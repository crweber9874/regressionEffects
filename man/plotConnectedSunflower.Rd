% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ggFlower.R
\name{plotConnectedSunflower}
\alias{plotConnectedSunflower}
\title{Plot Predicted Probabilities with Connected Sunflowers}
\usage{
plotConnectedSunflower(
  pred_summary,
  observed_counts,
  x_var = "prepost_label",
  join_vars = c("prepost", "category"),
  colors = c(`1` = "lightgrey", `2` = "grey", `3` = "darkgrey", `4` = "darkslategrey",
    `5` = "black"),
  category_labels = c(`1` = "Strongly Not Support", `2` = "Do Not Support", `3` =
    "Neutral", `4` = "Support", `5` = "Strongly Support"),
  title = "",
  subtitle = "",
  y_label = "Predicted Probability",
  x_label = "",
  legend_title = "Response\\nCategory",
  y_limits = c(0, 0.5),
  y_breaks = seq(0, 0.5, 0.1),
  sunflower_size = 0.2,
  sunflower_alpha = 0.25,
  mean_point_size = 3,
  mean_point_alpha = 0.8,
  connector_linewidth = 0.5,
  connector_alpha = 0.5,
  dodge_width = 0.5,
  sunflower_density = 50,
  sunflower_aspect_ratio = 5
)
}
\arguments{
\item{pred_summary}{A data frame with prediction summaries containing columns:
\code{category}, \code{mean_prob}, \code{lower_ci}, \code{upper_ci}, and a
label column for x-axis (specified by \code{x_var})}

\item{observed_counts}{A data frame with observed counts containing columns:
\code{category}, \code{n}, and matching variables for joining}

\item{x_var}{Name of the x-axis variable with labels (as string). Default: "prepost_label"}

\item{join_vars}{Character vector of variable names to use for joining pred_summary
and observed_counts. Default: c("prepost", "category")}

\item{colors}{Named vector of colors for each category level.
Default: c("1" = "lightgrey", "2" = "grey", "3" = "darkgrey",
          "4" = "darkslategrey", "5" = "black")}

\item{category_labels}{Named vector of labels for each category level.
Default: c("1" = "Strongly Not Support", "2" = "Do Not Support",
          "3" = "Neutral", "4" = "Support", "5" = "Strongly Support")}

\item{title}{Main title for the plot. Default: ""}

\item{subtitle}{Subtitle for the plot. Default: ""}

\item{y_label}{Label for the y-axis. Default: "Predicted Probability"}

\item{x_label}{Label for the x-axis. Default: ""}

\item{legend_title}{Title for the legend. Default: "Response\nCategory"}

\item{y_limits}{Numeric vector of length 2 specifying y-axis limits.
Default: c(0, 0.5)}

\item{y_breaks}{Numeric vector specifying y-axis break points.
Default: seq(0, 0.5, 0.1)}

\item{sunflower_size}{Size of sunflower plot points. Default: 0.2}

\item{sunflower_alpha}{Transparency of sunflower plot points. Default: 0.25}

\item{mean_point_size}{Size of mean point. Default: 3}

\item{mean_point_alpha}{Transparency of mean point. Default: 0.8}

\item{connector_linewidth}{Width of connector lines to y-axis. Default: 0.5}

\item{connector_alpha}{Transparency of connector lines. Default: 0.5}

\item{dodge_width}{Width for position dodging. Default: 0.5}

\item{sunflower_density}{Density parameter for sunflower positioning. Default: 50}

\item{sunflower_aspect_ratio}{Aspect ratio for sunflower positioning. Default: 5}
}
\value{
A ggplot2 object
}
\description{
Creates a visualization showing predicted probabilities with points connected
to the y-axis via line segments, with sunflower plots centered at the mean
points showing the distribution of observations.
}
\examples{
\dontrun{
# Basic usage
plotConnectedSunflower(plot_dat, observed_counts)

# With different x variable
plotConnectedSunflower(plot_dat, observed_counts,
                       x_var = "time_label",
                       join_vars = c("time", "treatment", "category"))

# Custom styling
plotConnectedSunflower(plot_dat, observed_counts,
                       mean_point_size = 4,
                       connector_linewidth = 1,
                       sunflower_size = 0.1)
}

}
