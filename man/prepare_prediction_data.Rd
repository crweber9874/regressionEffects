% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preparePrediction.R
\name{prepare_prediction_data}
\alias{prepare_prediction_data}
\title{Prepare Prediction Data with Observed Counts}
\usage{
prepare_prediction_data(
  data,
  predictions,
  category_var = "attend_march",
  group_vars = c("prepost", "vote_trump")
)
}
\arguments{
\item{data}{A data frame containing the raw survey data}

\item{predictions}{Prediction object from a model to be summarized}

\item{category_var}{Name of the categorical variable (as string) to use for grouping.
Default: "attend_march"}

\item{group_vars}{Character vector of additional grouping variables.
Default: c("prepost", "vote_trump")}
}
\value{
A data frame with predictions joined to observed counts
}
\description{
Creates a data frame joining prediction summaries with observed counts,
allowing for dynamic grouping by different categorical variables.
}
\examples{
\dontrun{
# Using attend_march as category
plot_dat <- prepare_prediction_data(westernData, predictions_march)

# Using a different category variable
plot_dat <- prepare_prediction_data(westernData, predictions_protest,
                                    category_var = "attend_protest")

# Different grouping variables
plot_dat <- prepare_prediction_data(westernData, predictions,
                                    category_var = "support_policy",
                                    group_vars = c("prepost", "party_id"))
}

}
